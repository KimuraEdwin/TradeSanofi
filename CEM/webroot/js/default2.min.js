var getCurrentSequence = function () {
    var b = location.pathname;
    var g = b.split("/");
    var h = g[g.length - 1].split(".")[0];
    var a = (h == "index") ? 1 : h;
    return parseInt(a)
};

function navigate(b) {
    location.href = (b == 1) ? "index.html" : (b.toString().length > 1) ? (b + ".html") : ("0" + b + ".html")
}

function nextsequence() {
    var a = getCurrentSequence() + 1;
    if (a <= 50) {
        $("#stage, #bg").animate({
            opacity: 0,
            right: "1024px",
        }, 200, function () {
            navigate(a)
        })
    }
}

function prevsequence() {
    var a = getCurrentSequence() - 1;
    if (a > 0) {
        $("#stage, #bg").animate({
            opacity: 0,
            left: "1024px"
        }, 200, function () {
            navigate(a)
        })
    }
}

$("[data-nav]").click(function () {
    var next = $(this).attr("data-nav");
    $(".content-page").removeClass("show");
    $(".content-nav-link").removeClass("active");

    $(next).addClass("show");
    $(this).addClass("active");
});

$("[data-layer]").click(function () {
    var set = $(this).parent().attr("data-layer-set");
    var nextlayer = $(this).attr("data-layer");
    $(set + ".layer").removeClass("show");
    $(set + nextlayer).addClass("show");
});

$("[data-popup]").click(function () {
    var popup = $(this).attr("data-popup");
    $(popup).addClass("show");
});

$("[data-close]").click(function () {
    $(".popup").removeClass("show");
    $(".popup-dgmp").removeClass("show");
});

$("[data-toggle-cat]").click(function () {
    var produto = $("body").attr("data-product");
    var cat = $(this).attr("data-toggle-cat");
    localStorage.setItem(produto + "-cat", cat);
    location.reload();
});

$(document).ready(function (b) {
    /*$("body").on("swipeleft", nextsequence);
    $("body").on("swiperight", prevsequence);
    $(".seta-left").click(prevsequence);
    $(".seta-right").click(nextsequence);*/

    $("[data-next-layer]").on("swipeleft", function () {
        var set = $(this).attr("data-layer-set");
        var nextlayer = $(this).attr("data-next-layer");
        $(set + ".layer").removeClass("show");
        $(set + nextlayer).addClass("show");
    });

    $("[data-prev-layer]").on("swiperight", function () {
        var set = $(this).attr("data-layer-set");
        var nextlayer = $(this).attr("data-prev-layer");
        $(set + ".layer").removeClass("show");
        $(set + nextlayer).addClass("show");
    });

    var produto = $("body").attr("data-product");
    var cat = localStorage.getItem(produto + "-cat");
    if(cat != null && cat != undefined && cat != ""){
        $(".cats").removeClass("active");
        $(cat).addClass("active");
    }
});